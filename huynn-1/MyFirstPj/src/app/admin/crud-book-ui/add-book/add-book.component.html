<div class="container py-5 mt-2 border border-primary rounded table-responsive">
  <div class="col-md-12">
    <h2>Thêm Sách</h2>
    <div>
      <div class="form-group">
        <label for="imagePreview">Xem trước ảnh:</label> <br>
        <img id="imagePreview" src="#" style="max-width: 400px; max-height: 400px;" />
      </div>
      <div class="form-group">
        <label for="image">Ảnh:</label>
        <input  [(ngModel)]="image" type="file" class="form-control-file" id="image" accept="image/*" required (change)="onFileSelected($event)" >
      </div>
      <div class="form-group">
        <label >Tên sách:</label>
        <input [(ngModel)]="name" type="text" class="form-control" required>
        <div class="error-message" *ngIf="addBookErr.nameErr !== ''" >{{ addBookErr.nameErr }}</div>
      </div>
      <div class=" form-group">
        <label >Tác Giả:</label>
        <input [(ngModel)]="author" type="text" class="form-control" required>
        <div class="error-message" *ngIf="addBookErr.authorErr !== '' ">{{ addBookErr.authorErr }}</div>
      </div>
      <div class=" form-group">
        <label >Giá:</label>
        <input [(ngModel)]="price" type="number" class="form-control" min="0" step="0.01" required>
        <div class="error-message" *ngIf=" addBookErr.priceErr !== '' ">{{ addBookErr.priceErr }}</div>
      </div>
      <div class="form-group">
        <label >Số lượng:</label>
        <input [(ngModel)]="quantity" type="number" class="form-control" required>
        <div class="error-message" *ngIf=" addBookErr.quantityErr !== '' ">{{ addBookErr.quantityErr }}</div>
      </div>
      <div class="form-group">
        <label for="ngayXuatBan">Ngày xuất bản:</label>
        <input [(ngModel)]="publishedDate" type="date" pattern="\d{1,2}/\d{1,2}/\d{4}" placeholder="dd/mm/yyyy"
          class="form-control" id="ngayXuatBan" name="ngayXuatBan" required>
          <div class="error-message" *ngIf="addBookErr.publishedDateErr !== '' ">{{ addBookErr.publishedDateErr }}</div>
      </div>
      <div class="form-group">
        <label for="nhaXuatBan">Nhà xuất bản:</label>
        <input [(ngModel)]="publisher" type="text" class="form-control" id="nhaXuatBan" required>
        <div class="error-message" *ngIf=" addBookErr.publisherErr !== ''  ">{{ addBookErr.publisherErr }}</div>
      </div>
      <div class="form-group mt-2">
        <mat-form-field>
          <mat-label>Thể loại</mat-label>
          <mat-select [(ngModel)]="bookType" name="food">
            @for ( bookType of bookTypes; track bookType) {
              <mat-option [value]="bookType.value">{{bookType.viewValue}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
                <div class="error-message" *ngIf=" addBookErr.bookTypeErr !== '' ">{{ addBookErr.bookTypeErr }}</div>

      </div>
      <button class="btn btn-primary" (click)="addBook()">Thêm sách</button>
    </div>
  </div>
</div>
<div class="overlay" *ngIf="loading">
  <div class="spinner"></div>
</div>
